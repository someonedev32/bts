<iframe src="https://www.tradingview.com/widgetembed/?symbol=BINANCE:BTCUSDT&interval=15&theme=dark&style=1&toolbarbg=1e2328&withdateranges=1&hide_top_toolbar=1" frameborder="0"></iframe>
</div>

<div class="footer hidden" id="footerNav">
  <div class="footer-btn" onclick="openModal('depositModal')">
    <i class="fas fa-arrow-down"></i>Deposit
  </div>
  <div class="footer-btn" onclick="openModal('withdrawModal')">
    <i class="fas fa-arrow-up"></i>Withdraw
  </div>
  <div class="footer-btn" onclick="alert('Transactions Coming Soon')">
    <i class="fas fa-list-alt"></i>Transactions
  </div>
  <div class="footer-btn" onclick="alert('Settings Coming Soon')">
    <i class="fas fa-cog"></i>Settings
  </div>
</div>

<!-- Deposit Modal -->
<div class="modal" id="depositModal">
  <div class="modal-content">
    <h3>Deposit</h3>
    <input type="number" class="login-input" placeholder="Amount" />
    <button class="login-button">Confirm</button>
    <button class="logout-btn" onclick="closeModal('depositModal')">Close</button>
  </div>
</div>

<!-- Withdraw Modal -->
<div class="modal" id="withdrawModal">
  <div class="modal-content">
    <h3>Withdraw</h3>
    <input type="number" class="login-input" placeholder="Amount" />
    <button class="login-button">Confirm</button>
    <button class="logout-btn" onclick="closeModal('withdrawModal')">Close</button>
  </div>
</div>

<script>
  const fakeDB = {
    "demo@wallet.com": "pass123"
  };

  function toggleForm(type) {
    document.getElementById('loginForm').classList.toggle('hidden', type === 'register');
    document.getElementById('registerForm').classList.toggle('hidden', type === 'login');
  }

  function login() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    if (fakeDB[email] === password) {
      showDashboard();
    } else {
      document.getElementById('loginError').innerText = "Invalid credentials.";
    }
  }

  function register() {
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    if (fakeDB[email]) {
      document.getElementById('registerError').innerText = "User already exists.";
    } else {
      fakeDB[email] = password;
      alert("Registered! You can now login.");
      toggleForm('login');
    }
  }

  function showDashboard() {
    document.getElementById('loginForm').classList.add('hidden');
    document.getElementById('registerForm').classList.add('hidden');
    document.getElementById('dashboard').classList.remove('hidden');
    document.getElementById('footerNav').classList.remove('hidden');
    fetchBTCPrice();
  }

  function logout() {
    document.getElementById('dashboard').classList.add('hidden');
    document.getElementById('footerNav').classList.add('hidden');
    document.getElementById('loginForm').classList.remove('hidden');
  }

  function openModal(id) {
    document.getElementById(id).style.display = 'flex';
  }

  function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

  async function connectWallet() {
    if (window.solana && window.solana.isPhantom) {
      try {
        const resp = await window.solana.connect();
        document.getElementById("walletAddress").innerText = "Connected: " + resp.publicKey.toString();
      } catch (err) {
        alert("Connection rejected.");
      }
    } else {
      alert("Phantom Wallet not installed.");
    }
  }

  async function fetchBTCPrice() {
    try {
      const res = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd");
      const data = await res.json();
      const btcPrice = data.bitcoin.usd;
      const usdtAmount = 4900000;
      const btcAmount = (usdtAmount / btcPrice).toFixed(6);
      document.getElementById("btcAmount").innerText = ${btcAmount};
    } catch (e) {
      document.getElementById("btcAmount").innerText = "Error loading";
    }
  }
</script>

</body>
</html>