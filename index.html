<div class="footer-btn"><i class="fas fa-cog"></i>Settings</div>
</div>

<!-- Scripts -->
<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script>
  const email = "user43@wallet.com";
  const pass = "wallet43";
  let userBTC = 100;  // User's BTC holding (100 BTC)
  let currentBTCPrice = 45000;  // Initial Bitcoin price (in USD)

  // Function to fetch real-time Bitcoin price from CoinGecko API
  async function fetchBitcoinPrice() {
    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
    const data = await response.json();
    return data.bitcoin.usd;
  }

  // Function to update user's balance dynamically based on Bitcoin price
  async function updateBalance() {
    currentBTCPrice = await fetchBitcoinPrice();  // Fetch the latest Bitcoin price
    const balanceInUSD = userBTC * currentBTCPrice;  // Calculate the user's balance
    document.getElementById("walletBalance").innerText = Balance: $${balanceInUSD.toFixed(2)};  // Update displayed balance
  }

  // Login function
  function login() {
    const inputEmail = document.getElementById("email").value;
    const inputPass = document.getElementById("password").value;

    if (inputEmail === email && inputPass === pass) {
      document.getElementById("authSection").style.display = "none";
      document.getElementById("dashboard").style.display = "block";
      document.getElementById("appFooter").style.display = "flex";
      document.getElementById("walletAddress").innerText = "0xABCDEF1234567890"; // Example wallet address
      updateBalance();  // Fetch and update the balance after login
    } else {
      alert("Invalid credentials.");
    }
  }

  // PWA - Service Worker
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js").then(() => {
      console.log("Service Worker Registered");
    });
  }

  // Toggle theme for light/dark mode
  function toggleTheme() {
    document.body.classList.toggle("light-mode");
  }

  // Scan QR code functionality
  function startScanner() {
    document.getElementById("qrScanner").style.display = "flex";
    const qrReader = new Html5Qrcode("qr-reader");
    qrReader.start(
      { facingMode: "environment" },
      { fps: 10, qrbox: 250 },
      (decodedText) => {
        document.getElementById("walletAddress").innerText = Scanned: ${decodedText};
        qrReader.stop();
        document.getElementById("qrScanner").style.display = "none";
      }
    );
  }

  // Close QR scanner
  function closeScanner() {
    document.getElementById("qrScanner").style.display = "none";
  }
</script>

</body>
</html>