Let’s break down the tasks and integrate them into your wallet application:

1. Display the Balance in USDT:

We’ll change the balance to USDT (Tether), and calculate it based on Bitcoin. This will allow us to show the current balance in USDT on the dashboard.

2. Add Popup Forms for Withdrawal and Deposit:

We’ll create popups for both Withdrawal and Deposit. When the user clicks on the respective icon in the footer navigation, the appropriate popup will appear asking for an address (for both deposit and withdrawal).

Full Implementation with These Features:

1. Display the Balance in USDT:

We’ll maintain the balance in BTC and convert it to USDT using the current BTC price.
	•	We assume 1 BTC = 1 USD (in terms of Tether, but you can later replace this logic with any conversion if needed).

2. Popup Forms for Withdrawal and Deposit:

We’ll add popups triggered by clicking on the corresponding buttons in the footer navigation.

Here’s the full updated code to include both features:

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="theme-color" content="#0d1117"/>
  <title>Wallet App</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #0d1117;
      color: white;
      transition: 0.3s;
    }

    .light-mode {
      background: #f3f3f3;
      color: #111;
    }

    .container {
      padding: 20px;
    }

    .login-container {
      max-width: 300px;
      margin: auto;
      padding: 20px;
      background: #1f1f1f;
      border-radius: 8px;
    }

    .login-input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      background: #333;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .login-button {
      width: 100%;
      padding: 10px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .dashboard {
      text-align: center;
    }

    .chart-container {
      background: #1f1f1f;
      padding: 20px;
      border-radius: 10px;
      margin: 20px;
    }

    .wallet-info {
      margin: 10px auto;
      background: #222;
      padding: 15px;
      border-radius: 5px;
      width: 90%;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      display: flex;
      background: #111;
      justify-content: space-around;
      padding: 10px 0;
    }

    .footer-btn {
      color: white;
      text-align: center;
      font-size: 12px;
    }

    .footer-btn i {
      font-size: 20px;
      display: block;
    }

    #qrScanner {
      background: rgba(0, 0, 0, 0.9);
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .popup-form {
      background: rgba(0, 0, 0, 0.8);
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      justify-content: center;
      align-items: center;
    }

    .popup-container {
      background: #333;
      padding: 20px;
      border-radius: 8px;
      max-width: 400px;
      width: 80%;
      text-align: center;
    }

    .popup-input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background: #444;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .popup-button {
      width: 100%;
      padding: 10px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<!-- Theme Toggle -->
<div style="position:fixed; top:10px; right:15px; z-index:99;">
  <button onclick="toggleTheme()" style="padding:8px 12px; border-radius:8px; border:none; background:#444; color:white;">Toggle Theme</button>
</div>

<!-- Login/Register -->
<div id="authSection" class="login-container">
  <input type="email" id="email" placeholder="Email" class="login-input" />
  <input type="password" id="password" placeholder="Password" class="login-input" />
  <button onclick="login()" class="login-button">Login</button>
  <p style="text-align:center;">or</p>
  <button onclick="register()" class="login-button" style="background:#2196f3;">Register</button>
</div>

<!-- Dashboard -->
<div id="dashboard" class="container" style="display:none;">
  <h2>Welcome to Your Wallet</h2>
  <div class="wallet-info" id="walletAddress" onclick="copyAddress()">Click to copy address</div>
  <div class="wallet-info" id="walletBalance">Balance: $0.00 USDT</div> <!-- Initially 0.00 USDT -->

  <button class="login-button" onclick="startScanner()">Scan QR</button>

  <div class="chart-container">
    <button style="background:#4caf50; color:white; padding:5px 15px; margin:5px;">High</button>
    <button style="background:#f44336; color:white; padding:5px 15px; margin:5px;">Low</button>
    <iframe src="https://widget.coinlib.io/widget?type=chart&theme=dark&coin_id=859&pref_coin_id=1505" width="100%" height="400px" frameborder="0" scrolling="auto"></iframe>
  </div>
</div>

<!-- QR Scanner -->
<div id="qrScanner">
  <div id="qr-reader" style="width:300px;"></div>
  <button class="login-button" onclick="closeScanner()">Close</button>
</div>

<!-- Deposit Popup -->
<div id="depositPopup" class="popup-form">
  <div class="popup-container">
    <h3>Deposit USDT</h3>
    <input type="text" id="depositAddress" class="popup-input" placeholder="Enter USDT Deposit Address" />
    <button onclick="depositUSDT()" class="popup-button">Deposit</button>
    <button onclick="closePopup('depositPopup')" class="popup-button" style="background:#f44336;">Close</button>
  </div>
</div>

<!-- Withdraw Popup -->
<div id="withdrawPopup" class="popup-form">
  <div class="popup-container">
    <h3>Withdraw USDT</h3>
    <input type="text" id="withdrawAddress" class="popup-input" placeholder="Enter USDT Withdrawal Address" />
    <button onclick="withdrawUSDT()" class="popup-button">Withdraw</button>
    <button onclick="closePopup('withdrawPopup')" class="popup-button" style="background:#f44336;">Close</button>
  </div>
</div>

<!-- Footer Navigation -->
<div class="footer" id="appFooter" style="display:none;">
  <div class="footer-btn" onclick="openWithdrawPopup()"><i class="fas fa-arrow-up"></i>Withdraw</div>
  <div class="footer-btn" onclick="openDepositPopup()"><i class="fas fa-arrow-down"></i>Deposit</div>
  <div class="footer-btn"><i class="fas fa-wallet"></i>Wallet</div>
  <div class="footer-btn"><i class="fas fa-cog"></i>Settings</div>
</div>

<!-- Scripts -->
<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script>
  const email = "user43@wallet.com";
  const pass = "wallet43";
  let userBTC = 100;  // User's BTC holding (100 BTC)
  let currentBTCPrice = 45000;  // Initial Bitcoin price (in USD)

  // Function to fetch real-time Bitcoin price from CoinGecko API
  async function fetchBitcoinPrice() {
    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
    const data = await response.json();
    return data.bitcoin.usd;
  }

  // Function to update user's balance dynamically based on Bitcoin price
  async function updateBalance() {
    currentBTCPrice = await fetchBitcoinPrice();  // Fetch the latest Bitcoin price
    const balanceInUSDT = userBTC * currentBTCPrice;  // Calculate the user's balance in USDT (same as USD here)
    document.getElementById("walletBalance").innerText = `Balance: $${balanceInUSDT.toFixed(2)} USDT`;  // Update displayed balance
  }

  // Login function
  function login() {
    const inputEmail = document.getElementById("email").value;
    const inputPass = document.getElementById("password").value;

    if (inputEmail === email && inputPass === pass) {
      document.getElementById("authSection").style.display = "none";
      document.getElementById("dashboard").style.display = "block";
      document.getElementById("appFooter").style.display = "flex";
      document.getElementById("walletAddress").innerText = "0xABCDEF1234567890